<!DOCTYPE html>
<html lang="en"><head>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-html/tabby.min.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-587c61ba64f3a5504c4d52d930310e48.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.8.26">

  <title>Introduction to Data Science – Distances Between Observations</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="../site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="../site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    html { -webkit-text-size-adjust: 100%; }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; font-weight: bold; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="../site_libs/revealjs/dist/theme/quarto-a39843259aa5179dad24436622ef3209.css">
  <link href="../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
  <link href="../site_libs/countdown-0.6.0/countdown.css" rel="stylesheet">
  <script src="../site_libs/countdown-0.6.0/countdown.js"></script>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Distances Between Observations</h1>

<div class="quarto-title-authors">
</div>

</section>
<section>
<section id="more-words-about-chatgpt" class="title-slide slide level1 center">
<h1>More words about ChatGPT…</h1>

</section>
<section id="what-is-my-job" class="slide level2">
<h2>What is my job?</h2>
<p><br></p>
<div class="columns">
<div class="column" style="width:40%;">
<div class="fragment">
<p><strong>Teaching you stuff</strong></p>
<p><br></p>
<p>(Thoughtfully) choosing what to teach and how to teach it.</p>
</div>
</div><div class="column" style="width:5%;">

</div><div class="column" style="width:55%;">
<div class="fragment">
<p><strong>Assessing what you’ve learned</strong></p>
<p><br></p>
<p>What do you understand about the tools I’ve taught you?</p>
<p><br></p>
<div class="fragment">
<p>This <u><strong>is not</strong></u> the same as assessing if you figured out a way to accomplish a given task.</p>
</div>
</div>
</div></div>
</section>
<section id="using-the-tools-i-teach" class="slide level2">
<h2>Using the tools I teach</h2>
<div class="midi">
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a aria-hidden="true" tabindex="-1"></a>is_100m <span class="op">=</span> df_bolt[<span class="st">"Event"</span>] <span class="op">==</span> <span class="st">"2008 Olympics 100m"</span></span>
<span id="cb1-2"><a aria-hidden="true" tabindex="-1"></a>df_100m <span class="op">=</span> df_bolt[is_100m]</span>
<span id="cb1-3"><a aria-hidden="true" tabindex="-1"></a>one_mean <span class="op">=</span> df_100m[<span class="st">"Time"</span>].mean()</span>
<span id="cb1-4"><a aria-hidden="true" tabindex="-1"></a>one_std <span class="op">=</span> df_100m[<span class="st">"Time"</span>].std()</span>
<span id="cb1-5"><a aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-6"><a aria-hidden="true" tabindex="-1"></a>df_bolt[<span class="st">"Standardized_Time"</span>] <span class="op">=</span> <span class="fl">0.0</span></span>
<span id="cb1-7"><a aria-hidden="true" tabindex="-1"></a>df_bolt.loc[is_100m, <span class="st">"Standardized_Time"</span>] <span class="op">=</span> (df_bolt.loc[is_100m, <span class="st">"Time"</span>] <span class="op">-</span> </span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</div>
<div class="fragment">
<p><br></p>
<div class="midi">
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a aria-hidden="true" tabindex="-1"></a>event_stats <span class="op">=</span> df_phelps.groupby(<span class="st">'Event'</span>)[<span class="st">'Time_in_seconds'</span>].agg([<span class="st">'mean'</span>, <span class="st">'std'</span>])</span>
<span id="cb2-2"><a aria-hidden="true" tabindex="-1"></a>df_phelps <span class="op">=</span> df_phelps.merge(event_stats, on<span class="op">=</span><span class="st">'Event'</span>)</span>
<span id="cb2-3"><a aria-hidden="true" tabindex="-1"></a>df_phelps[<span class="st">'Standardized_Time'</span>] <span class="op">=</span> (</span>
<span id="cb2-4"><a aria-hidden="true" tabindex="-1"></a>(df_phelps[<span class="st">'Time_in_seconds'</span>] <span class="op">-</span> df_phelps[<span class="st">'mean'</span>]) <span class="op">/</span> df_phelps[<span class="st">'std'</span>]</span>
<span id="cb2-5"><a aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</div>
</div>
</section>
<section id="a-nice-clean-efficient-approach" class="slide level2">
<h2>A nice clean, efficient approach</h2>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a aria-hidden="true" tabindex="-1"></a>bolt_stats <span class="op">=</span> (</span>
<span id="cb3-2"><a aria-hidden="true" tabindex="-1"></a>  df_bolt</span>
<span id="cb3-3"><a aria-hidden="true" tabindex="-1"></a>  .groupby(<span class="st">"Event"</span>)[<span class="st">"Time"</span>]</span>
<span id="cb3-4"><a aria-hidden="true" tabindex="-1"></a>  .aggregate([<span class="st">"mean"</span>, <span class="st">"std"</span>])</span>
<span id="cb3-5"><a aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb3-6"><a aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-7"><a aria-hidden="true" tabindex="-1"></a>standardized_bolt <span class="op">=</span> (</span>
<span id="cb3-8"><a aria-hidden="true" tabindex="-1"></a>  df_bolt</span>
<span id="cb3-9"><a aria-hidden="true" tabindex="-1"></a>  .set_index([<span class="st">'Event'</span>, <span class="st">'Athlete'</span>])[<span class="st">'Time'</span>]</span>
<span id="cb3-10"><a aria-hidden="true" tabindex="-1"></a>  .subtract(bolt_stats[<span class="st">"mean"</span>])</span>
<span id="cb3-11"><a aria-hidden="true" tabindex="-1"></a>  .divide(bolt_stats[<span class="st">"std"</span>])</span>
<span id="cb3-12"><a aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<!-- ## `lambda` Functions -->
<!-- ```{python} -->
<!-- #| eval: false -->
<!-- #| label: lambda-function-times -->
<!-- #| echo: true -->
<!-- #| code-line-numbers: false -->
<!-- phelps_sec = ( -->
<!--   df_phelps["Time"] -->
<!--   .str.split(":") -->
<!--   .apply(lambda x: float(x[0])*60 + float(x[1])) -->
<!-- ) -->
<!-- ``` -->
<!-- . . . -->
<!-- </br> -->
<!-- ```{python} -->
<!-- #| eval: false -->
<!-- #| label: my-approach-times -->
<!-- #| echo: true -->
<!-- #| code-line-numbers: false -->
<!-- df_phelps[["Minutes", "Seconds"]] = df_phelps["Time"].str.split(":") -->
<!-- df_phelps["Time_New"] = ( -->
<!--   df_phelps["Minutes"].astype(float) * 60 + -->
<!--   df_phelps["Seconds"].astype(float) -->
<!--   ) -->
<!-- ``` -->
</section>
<section id="a-loop-is-often-not-necessary" class="slide level2">
<h2>A loop is often not necessary</h2>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a aria-hidden="true" tabindex="-1"></a>split_times <span class="op">=</span> df_phelps[<span class="st">"Time"</span>].<span class="bu">str</span>.split(<span class="st">":"</span>)</span>
<span id="cb4-2"><a aria-hidden="true" tabindex="-1"></a>seconds <span class="op">=</span> []</span>
<span id="cb4-3"><a aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-4"><a aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> time <span class="kw">in</span> split_times:</span>
<span id="cb4-5"><a aria-hidden="true" tabindex="-1"></a>  minute <span class="op">=</span> <span class="bu">int</span>(time[<span class="dv">0</span>])</span>
<span id="cb4-6"><a aria-hidden="true" tabindex="-1"></a>  second <span class="op">=</span> <span class="bu">float</span>(time[<span class="dv">1</span>])</span>
<span id="cb4-7"><a aria-hidden="true" tabindex="-1"></a>  seconds.append((minute <span class="op">*</span> <span class="dv">60</span>) <span class="op">+</span> second)</span>
<span id="cb4-8"><a aria-hidden="true" tabindex="-1"></a>  df_phelps[<span class="st">"Seconds"</span>] <span class="op">=</span> seconds</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="when-to-make-a-function" class="slide level2">
<h2>When to make a function?</h2>
<div class="small">
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> time_to_secs(time_str):</span>
<span id="cb5-2"><a aria-hidden="true" tabindex="-1"></a>  mins, secs <span class="op">=</span> time_str.split(<span class="st">':'</span>)</span>
<span id="cb5-3"><a aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> <span class="bu">float</span>(mins) <span class="op">*</span> <span class="dv">60</span> <span class="op">+</span> <span class="bu">float</span>(secs)</span>
<span id="cb5-4"><a aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-5"><a aria-hidden="true" tabindex="-1"></a>df_phelps[<span class="st">'time_secs'</span>] <span class="op">=</span> df_phelps[<span class="st">'Time'</span>].<span class="bu">apply</span>(time_to_secs)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</div>
<div class="fragment">
<p><br></p>
<div class="small">
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> calculate_simpson_index(values, position):</span>
<span id="cb6-2"><a aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb6-3"><a aria-hidden="true" tabindex="-1"></a>    <span class="co"># Convert values to a Pandas Series, ensuring they are strings</span></span>
<span id="cb6-4"><a aria-hidden="true" tabindex="-1"></a>    values_series <span class="op">=</span> pd.Series(values).astype(<span class="bu">str</span>)</span>
<span id="cb6-5"><a aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb6-6"><a aria-hidden="true" tabindex="-1"></a>    <span class="co"># Extract the specified character based on the position</span></span>
<span id="cb6-7"><a aria-hidden="true" tabindex="-1"></a>    extracted_character <span class="op">=</span> values_series.<span class="bu">str</span>[position]</span>
<span id="cb6-8"><a aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb6-9"><a aria-hidden="true" tabindex="-1"></a>    <span class="co"># Calculate the frequency of each character</span></span>
<span id="cb6-10"><a aria-hidden="true" tabindex="-1"></a>    character_counts <span class="op">=</span> extracted_character.value_counts(normalize<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb6-11"><a aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb6-12"><a aria-hidden="true" tabindex="-1"></a>    <span class="co"># Compute the Simpson's Index</span></span>
<span id="cb6-13"><a aria-hidden="true" tabindex="-1"></a>    simpson_index <span class="op">=</span> <span class="dv">1</span> <span class="op">-</span> <span class="bu">sum</span>(character_counts <span class="op">**</span> <span class="dv">2</span>)</span>
<span id="cb6-14"><a aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb6-15"><a aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> simpson_index</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</div>
</div>
</section></section>
<section>
<section id="the-story-so-far" class="title-slide slide level1 center">
<h1>The story so far…</h1>

</section>
<section id="summarizing" class="slide level2">
<h2>Summarizing</h2>
<ul>
<li><p><strong>One categorical variable:</strong> marginal distribution</p></li>
<li><p><strong>Two categorical variables:</strong> joint and conditional distributions</p></li>
<li><p><strong>One quantitative variable:</strong> mean, median, variance, standard deviation.</p></li>
<li><p><strong>One quantitative, one categorical:</strong> mean, median, and std dev across groups (<code>groupby()</code>, <em>split-apply-combine</em>)</p></li>
<li><p><strong>Two quantitative variables:</strong> z-scores, correlation</p></li>
</ul>
</section>
<section id="visualizing" class="slide level2">
<h2>Visualizing</h2>
<ul>
<li><p><strong>One categorical variable:</strong> bar plot or column plot</p></li>
<li><p><strong>Two categorical variables:</strong> stacked bar plot, side-by-side bar plot, or stacked percentage bar plot</p></li>
<li><p><strong>One quantitative variable:</strong> histogram, density plot, or boxplot</p></li>
<li><p><strong>One quantitative, one categorical:</strong> overlapping densities, side-by-side boxplots, or facetting</p></li>
<li><p><strong>Two quantitative variables:</strong> scatterplot</p></li>
</ul>
</section></section>
<section>
<section id="todays-data-house-prices" class="title-slide slide level1 center">
<h1>Today’s data: House prices</h1>

</section>
<section id="ames-house-prices" class="slide level2">
<h2>Ames house prices</h2>
<div class="small">
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a aria-hidden="true" tabindex="-1"></a>housing <span class="op">=</span> pd.read_table(<span class="st">"data/housing.tsv"</span>,</span>
<span id="cb7-2"><a aria-hidden="true" tabindex="-1"></a>                    sep <span class="op">=</span> <span class="st">"</span><span class="ch">\\</span><span class="st">t"</span>)</span>
<span id="cb7-3"><a aria-hidden="true" tabindex="-1"></a>housing.head()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Order        PID  MS SubClass  ... Sale Type  Sale Condition  SalePrice
0      1  526301100           20  ...       WD           Normal     215000
1      2  526350040           20  ...       WD           Normal     105000
2      3  526351010           20  ...       WD           Normal     172000
3      4  526353030           20  ...       WD           Normal     244000
4      5  527105010           60  ...       WD           Normal     189900

[5 rows x 82 columns]</code></pre>
</div>
</div>
<div class="callout callout-tip callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong><code>read_table</code> not <code>read_csv</code></strong></p>
</div>
<div class="callout-content">
<p>This is a <code>tsv</code> file (tab separated values), so we need to use a different function to read in our data! The <code>sep</code> argument allows you to specify the delimiter the file uses, but you can also allow the system to autodetect the delimiter.</p>
</div>
</div>
</div>
</div>
</section>
<section id="how-does-house-size-relate-to-number-of-bedrooms" class="slide level2">
<h2>How does house size relate to number of bedrooms?</h2>
<div class="fragment">
<div class="small">
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb9-2"><a aria-hidden="true" tabindex="-1"></a>  ggplot(housing, mapping <span class="op">=</span> aes(x <span class="op">=</span> <span class="st">"Gr Liv Area"</span>, y <span class="op">=</span> <span class="st">"Bedroom AbvGr"</span>))  <span class="op">+</span> </span>
<span id="cb9-3"><a aria-hidden="true" tabindex="-1"></a>  geom_point() <span class="op">+</span></span>
<span id="cb9-4"><a aria-hidden="true" tabindex="-1"></a>  labs(x <span class="op">=</span> <span class="st">"Total Living Area"</span>, </span>
<span id="cb9-5"><a aria-hidden="true" tabindex="-1"></a>       y <span class="op">=</span> <span class="st">"Number of Bedrooms"</span>) <span class="op">+</span></span>
<span id="cb9-6"><a aria-hidden="true" tabindex="-1"></a>  theme_bw()</span>
<span id="cb9-7"><a aria-hidden="true" tabindex="-1"></a> )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
</div>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="05-distances_files/figure-revealjs/size-bedroom-scatterplot-1.png" class="quarto-figure quarto-figure-center" width="614"></p>
</figure>
</div>
</div>
</div>
</div>
</section>
<section id="how-does-house-size-relate-to-number-of-bedrooms-1" class="slide level2">
<h2>How does house size relate to number of bedrooms?</h2>
<p>What <em>statistic</em> would you calculate?</p>
<div class="fragment">
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a aria-hidden="true" tabindex="-1"></a>housing[[<span class="st">"Gr Liv Area"</span>, <span class="st">"Bedroom AbvGr"</span>]].corr()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>               Gr Liv Area  Bedroom AbvGr
Gr Liv Area       1.000000       0.516808
Bedroom AbvGr     0.516808       1.000000</code></pre>
</div>
</div>
</div>
</section></section>
<section>
<section id="measuring-similarity-with-distance" class="title-slide slide level1 center">
<h1>Measuring Similarity with Distance</h1>

</section>
<section id="similarity" class="slide level2">
<h2>Similarity</h2>
<p>How might we answer the question, “Are these two houses similar?”</p>
<div class="columns">
<div class="column" style="width:45%;">
<div class="midi">
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a aria-hidden="true" tabindex="-1"></a>housing.loc[<span class="dv">1707</span>, </span>
<span id="cb12-2"><a aria-hidden="true" tabindex="-1"></a>            [<span class="st">"Gr Liv Area"</span>, </span>
<span id="cb12-3"><a aria-hidden="true" tabindex="-1"></a>             <span class="st">"Bedroom AbvGr"</span>]</span>
<span id="cb12-4"><a aria-hidden="true" tabindex="-1"></a>           ]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Gr Liv Area      2956
Bedroom AbvGr       5
Name: 1707, dtype: object</code></pre>
</div>
</div>
</div>
</div><div class="column" style="width:10%;">

</div><div class="column" style="width:45%;">
<div class="midi">
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a aria-hidden="true" tabindex="-1"></a>housing.loc[<span class="dv">290</span>, </span>
<span id="cb14-2"><a aria-hidden="true" tabindex="-1"></a>            [<span class="st">"Gr Liv Area"</span>, </span>
<span id="cb14-3"><a aria-hidden="true" tabindex="-1"></a>             <span class="st">"Bedroom AbvGr"</span>]</span>
<span id="cb14-4"><a aria-hidden="true" tabindex="-1"></a>           ]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Gr Liv Area      2650
Bedroom AbvGr       6
Name: 290, dtype: object</code></pre>
</div>
</div>
</div>
</div></div>
</section>
<section id="distance" class="slide level2">
<h2>Distance</h2>
<p>The <strong>distance</strong> between the <strong>two observations</strong> is:</p>
<p><br></p>
<p><span class="math display">\[ \sqrt{ (2956 - 2650)^2 + (5 - 6)^2} = 306 \]</span></p>
<div class="fragment">
<p>… what does this number mean? Not much!</p>
<p>But we can use it to <strong>compare</strong> sets of houses and find houses that appear to be the <strong>most similar</strong>.</p>
</div>
</section>
<section id="another-house-to-consider" class="slide level2">
<h2>Another House to Consider</h2>
<div class="columns">
<div class="column" style="width:45%;">
<div class="midi">
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a aria-hidden="true" tabindex="-1"></a>housing.loc[<span class="dv">290</span>, </span>
<span id="cb16-2"><a aria-hidden="true" tabindex="-1"></a>            [<span class="st">"Gr Liv Area"</span>, </span>
<span id="cb16-3"><a aria-hidden="true" tabindex="-1"></a>             <span class="st">"Bedroom AbvGr"</span>]</span>
<span id="cb16-4"><a aria-hidden="true" tabindex="-1"></a>           ]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Gr Liv Area      2650
Bedroom AbvGr       6
Name: 290, dtype: object</code></pre>
</div>
</div>
<p><br></p>
<p><span class="math display">\[ \sqrt{ (2956 - 2650)^2 + (5 - 6)^2} \newline = 306 \]</span></p>
</div>
</div><div class="column" style="width:10%;">

</div><div class="column" style="width:45%;">
<div class="fragment">
<div class="midi">
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a aria-hidden="true" tabindex="-1"></a>housing.loc[<span class="dv">291</span>, </span>
<span id="cb18-2"><a aria-hidden="true" tabindex="-1"></a>            [<span class="st">"Gr Liv Area"</span>, </span>
<span id="cb18-3"><a aria-hidden="true" tabindex="-1"></a>             <span class="st">"Bedroom AbvGr"</span>]</span>
<span id="cb18-4"><a aria-hidden="true" tabindex="-1"></a>           ]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Gr Liv Area      1666
Bedroom AbvGr       3
Name: 291, dtype: object</code></pre>
</div>
</div>
<p><span class="math display">\[ \sqrt{ (2956 - 1666)^2 + (5 - 3)^2} \newline = 1290 \]</span></p>
</div>
</div>
</div></div>
<div class="fragment">
<div class="midi">
<p>Thus, house 1707 is <strong>more similar</strong> to house 290 than to house 291.</p>
</div>
</div>
</section>
<section id="lecture-activity-part-1" class="slide level2">
<h2><span class="large">Lecture Activity Part 1</span></h2>
<blockquote>
<p>Complete Part One of the activity linked in Canvas.</p>
</blockquote>
<div class="cell">
<div class="cell-output-display">
<countdown-timer class="countdown" id="timer_68679827" minutes="10" seconds="0" update-every="1" tabindex="0" style="bottom:0;left:0;"></countdown-timer>
</div>
</div>
</section></section>
<section>
<section id="scaling-standardizing" class="title-slide slide level1 center">
<h1>Scaling / Standardizing</h1>

</section>
<section id="house-160-seems-more-similar-to-1707" class="slide level2">
<h2>House 160 seems more similar to 1707…</h2>
<div class="small">
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb20-2"><a aria-hidden="true" tabindex="-1"></a>  ggplot(housing, mapping <span class="op">=</span> aes(y <span class="op">=</span> <span class="st">"Gr Liv Area"</span>, x <span class="op">=</span> <span class="st">"Bedroom AbvGr"</span>)) <span class="op">+</span> </span>
<span id="cb20-3"><a aria-hidden="true" tabindex="-1"></a>  geom_point(color <span class="op">=</span> <span class="st">"lightgrey"</span>) <span class="op">+</span> </span>
<span id="cb20-4"><a aria-hidden="true" tabindex="-1"></a>  geom_point(housing.loc[[<span class="dv">1707</span>]], color <span class="op">=</span> <span class="st">"orange"</span>, size <span class="op">=</span> <span class="dv">5</span>, shape <span class="op">=</span> <span class="st">"x"</span>) <span class="op">+</span> </span>
<span id="cb20-5"><a aria-hidden="true" tabindex="-1"></a>  geom_point(housing.loc[[<span class="dv">160</span>]], color <span class="op">=</span> <span class="st">"blue"</span>, size <span class="op">=</span> <span class="dv">2</span>) <span class="op">+</span> </span>
<span id="cb20-6"><a aria-hidden="true" tabindex="-1"></a>  geom_point(housing.loc[[<span class="dv">2336</span>]], color <span class="op">=</span> <span class="st">"green"</span>, size <span class="op">=</span> <span class="dv">2</span>) <span class="op">+</span> </span>
<span id="cb20-7"><a aria-hidden="true" tabindex="-1"></a>  theme_bw() <span class="op">+</span></span>
<span id="cb20-8"><a aria-hidden="true" tabindex="-1"></a>  labs(y <span class="op">=</span> <span class="st">"Total Living Area (Square Feet)"</span>, </span>
<span id="cb20-9"><a aria-hidden="true" tabindex="-1"></a>       x <span class="op">=</span> <span class="st">"Number of Bedrooms"</span>)</span>
<span id="cb20-10"><a aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
</div>

<img data-src="05-distances_files/figure-revealjs/coloring-specific-houses-1.png" class="quarto-figure quarto-figure-center r-stretch" width="614"></section>
<section id="even-if-we-zoom-in" class="slide level2">
<h2>…even if we zoom in…</h2>
<div class="small">
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb21-2"><a aria-hidden="true" tabindex="-1"></a>  ggplot(housing, mapping <span class="op">=</span> aes(y <span class="op">=</span> <span class="st">"Gr Liv Area"</span>, x <span class="op">=</span> <span class="st">"Bedroom AbvGr"</span>)) <span class="op">+</span> </span>
<span id="cb21-3"><a aria-hidden="true" tabindex="-1"></a>  geom_point(color <span class="op">=</span> <span class="st">"lightgrey"</span>) <span class="op">+</span> </span>
<span id="cb21-4"><a aria-hidden="true" tabindex="-1"></a>  geom_point(housing.loc[[<span class="dv">1707</span>]], color <span class="op">=</span> <span class="st">"orange"</span>, size <span class="op">=</span> <span class="dv">5</span>, shape <span class="op">=</span> <span class="st">"x"</span>) <span class="op">+</span> </span>
<span id="cb21-5"><a aria-hidden="true" tabindex="-1"></a>  geom_point(housing.loc[[<span class="dv">160</span>]], color <span class="op">=</span> <span class="st">"blue"</span>, size <span class="op">=</span> <span class="dv">2</span>) <span class="op">+</span> </span>
<span id="cb21-6"><a aria-hidden="true" tabindex="-1"></a>  geom_point(housing.loc[[<span class="dv">2336</span>]], color <span class="op">=</span> <span class="st">"green"</span>, size <span class="op">=</span> <span class="dv">2</span>) <span class="op">+</span> </span>
<span id="cb21-7"><a aria-hidden="true" tabindex="-1"></a>  theme_bw() <span class="op">+</span></span>
<span id="cb21-8"><a aria-hidden="true" tabindex="-1"></a>  labs(y <span class="op">=</span> <span class="st">"Total Living Area (Square Feet)"</span>, </span>
<span id="cb21-9"><a aria-hidden="true" tabindex="-1"></a>       x <span class="op">=</span> <span class="st">"Number of Bedrooms"</span>) <span class="op">+</span></span>
<span id="cb21-10"><a aria-hidden="true" tabindex="-1"></a>  scale_y_continuous(limits <span class="op">=</span> (<span class="dv">2500</span>, <span class="dv">3500</span>))</span>
<span id="cb21-11"><a aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
</div>

<img data-src="05-distances_files/figure-revealjs/zooming-in-x-3.png" class="quarto-figure quarto-figure-center r-stretch" width="614"></section>
<section id="but-not-if-we-put-the-axes-on-the-same-scale" class="slide level2">
<h2>…but not if we put the axes on the same <strong>scale</strong>!</h2>
<div class="small">
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb22-2"><a aria-hidden="true" tabindex="-1"></a>  ggplot(housing, aes(y <span class="op">=</span> <span class="st">"Gr Liv Area"</span>, x <span class="op">=</span> <span class="st">"Bedroom AbvGr"</span>)) <span class="op">+</span> </span>
<span id="cb22-3"><a aria-hidden="true" tabindex="-1"></a>  geom_point(color <span class="op">=</span> <span class="st">"lightgrey"</span>) <span class="op">+</span> </span>
<span id="cb22-4"><a aria-hidden="true" tabindex="-1"></a>  geom_point(housing.loc[[<span class="dv">1707</span>]], color <span class="op">=</span> <span class="st">"orange"</span>, size <span class="op">=</span> <span class="dv">5</span>, shape <span class="op">=</span> <span class="st">"x"</span>) <span class="op">+</span> </span>
<span id="cb22-5"><a aria-hidden="true" tabindex="-1"></a>  geom_point(housing.loc[[<span class="dv">160</span>]], color <span class="op">=</span> <span class="st">"blue"</span>, size <span class="op">=</span> <span class="dv">2</span>) <span class="op">+</span> </span>
<span id="cb22-6"><a aria-hidden="true" tabindex="-1"></a>  geom_point(housing.loc[[<span class="dv">2336</span>]], color <span class="op">=</span> <span class="st">"green"</span>, size <span class="op">=</span> <span class="dv">2</span>) <span class="op">+</span> </span>
<span id="cb22-7"><a aria-hidden="true" tabindex="-1"></a>  theme_bw() <span class="op">+</span></span>
<span id="cb22-8"><a aria-hidden="true" tabindex="-1"></a>  labs(y <span class="op">=</span> <span class="st">"Total Living Area (Square Feet)"</span>, </span>
<span id="cb22-9"><a aria-hidden="true" tabindex="-1"></a>       x <span class="op">=</span> <span class="st">"Number of Bedrooms"</span>) <span class="op">+</span></span>
<span id="cb22-10"><a aria-hidden="true" tabindex="-1"></a>  scale_y_continuous(limits <span class="op">=</span> (<span class="dv">2900</span>, <span class="dv">3000</span>)) <span class="op">+</span></span>
<span id="cb22-11"><a aria-hidden="true" tabindex="-1"></a>  scale_x_continuous(limits <span class="op">=</span> (<span class="dv">0</span>, <span class="dv">100</span>))</span>
<span id="cb22-12"><a aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
</div>

<img data-src="05-distances_files/figure-revealjs/x-y-on-same-scale-5.png" class="quarto-figure quarto-figure-center r-stretch" width="614"></section>
<section id="scaling" class="slide level2">
<h2>Scaling</h2>
<p>We need to make sure our features are on the same <strong>scale</strong> before we can use <strong>distances</strong> to measure <strong>similarity</strong>.</p>
<div class="callout callout-tip callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Standardizing</strong></p>
</div>
<div class="callout-content">
<p>subtract the mean, divide by the standard deviation</p>
</div>
</div>
</div>
<!-- -   In this case, the **mean** doesn't really matter. (why?) -->
</section>
<section id="scaling-1" class="slide level2">
<h2>Scaling</h2>
<div class="small">
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a aria-hidden="true" tabindex="-1"></a>housing[<span class="st">'size_scaled'</span>] <span class="op">=</span> (housing[<span class="st">'Gr Liv Area'</span>] <span class="op">-</span> housing[<span class="st">'Gr Liv Area'</span>].mean()) <span class="op">/</span> housing[<span class="st">'Gr Liv Area'</span>].std()</span>
<span id="cb23-2"><a aria-hidden="true" tabindex="-1"></a>housing[<span class="st">'bdrm_scaled'</span>] <span class="op">=</span> (housing[<span class="st">'Bedroom AbvGr'</span>] <span class="op">-</span> housing[<span class="st">'Bedroom AbvGr'</span>].mean()) <span class="op">/</span> housing[<span class="st">'Bedroom AbvGr'</span>].std()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</div>
<div class="small">
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb24-2"><a aria-hidden="true" tabindex="-1"></a>  ggplot(housing, aes(y <span class="op">=</span> <span class="st">"size_scaled"</span>, x <span class="op">=</span> <span class="st">"bdrm_scaled"</span>)) <span class="op">+</span> </span>
<span id="cb24-3"><a aria-hidden="true" tabindex="-1"></a>  geom_point(color <span class="op">=</span> <span class="st">"lightgrey"</span>) <span class="op">+</span> </span>
<span id="cb24-4"><a aria-hidden="true" tabindex="-1"></a>  geom_point(housing.loc[[<span class="dv">1707</span>]], color <span class="op">=</span> <span class="st">"orange"</span>, size <span class="op">=</span> <span class="dv">5</span>, shape <span class="op">=</span> <span class="st">"x"</span>) <span class="op">+</span> </span>
<span id="cb24-5"><a aria-hidden="true" tabindex="-1"></a>  geom_point(housing.loc[[<span class="dv">160</span>]], color <span class="op">=</span> <span class="st">"blue"</span>, size <span class="op">=</span> <span class="dv">2</span>) <span class="op">+</span> </span>
<span id="cb24-6"><a aria-hidden="true" tabindex="-1"></a>  geom_point(housing.loc[[<span class="dv">2336</span>]], color <span class="op">=</span> <span class="st">"green"</span>, size <span class="op">=</span> <span class="dv">2</span>) <span class="op">+</span> </span>
<span id="cb24-7"><a aria-hidden="true" tabindex="-1"></a>  theme_bw() <span class="op">+</span></span>
<span id="cb24-8"><a aria-hidden="true" tabindex="-1"></a>  labs(y <span class="op">=</span> <span class="st">"Total Living Area (Standardized)"</span>, </span>
<span id="cb24-9"><a aria-hidden="true" tabindex="-1"></a>       x <span class="op">=</span> <span class="st">"Number of Bedrooms (Standardized)"</span>) </span>
<span id="cb24-10"><a aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
</div>

<img data-src="05-distances_files/figure-revealjs/scatterplot-of-standardized-vars-7.png" class="quarto-figure quarto-figure-center r-stretch" width="614"></section>
<section id="lecture-activity-part-2" class="slide level2">
<h2><span class="large">Lecture Activity Part 2</span></h2>
<blockquote>
<p>Complete Part Two of the activity linked in Canvas.</p>
</blockquote>
<div class="cell">
<div class="cell-output-display">
<countdown-timer class="countdown" id="timer_5de3894d" minutes="10" seconds="0" update-every="1" tabindex="0" style="bottom:0;left:0;"></countdown-timer>
</div>
</div>
</section></section>
<section>
<section id="scikit-learn" class="title-slide slide level1 center">
<h1>Scikit-learn</h1>

</section>
<section id="scikit-learn-1" class="slide level2">
<h2>Scikit-learn</h2>
<ul>
<li><p><code>scikit-learn</code> is a library for <strong>machine learning</strong> and <strong>modeling</strong></p></li>
<li><p>We will use it a lot in this class!</p></li>
<li><p>For now, we will use it as a shortcut for <em>scaling</em> and for <em>computing distances</em></p></li>
</ul>
<div class="fragment">
<ul>
<li><p>The philosophy of <code>sklearn</code> is:</p>
<ul>
<li><strong>specify</strong> your analysis</li>
<li><strong>fit</strong> on the data to prepare the analysis</li>
<li><strong>transform</strong> the data</li>
</ul></li>
</ul>
</div>
</section>
<section id="specify" class="slide level2">
<h2>Specify</h2>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.preprocessing <span class="im">import</span> StandardScaler</span>
<span id="cb25-2"><a aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-3"><a aria-hidden="true" tabindex="-1"></a>scaler <span class="op">=</span> StandardScaler()</span>
<span id="cb25-4"><a aria-hidden="true" tabindex="-1"></a>scaler</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<style>#sk-container-id-1 {
  /* Definition of color scheme common for light and dark mode */
  --sklearn-color-text: #000;
  --sklearn-color-text-muted: #666;
  --sklearn-color-line: gray;
  /* Definition of color scheme for unfitted estimators */
  --sklearn-color-unfitted-level-0: #fff5e6;
  --sklearn-color-unfitted-level-1: #f6e4d2;
  --sklearn-color-unfitted-level-2: #ffe0b3;
  --sklearn-color-unfitted-level-3: chocolate;
  /* Definition of color scheme for fitted estimators */
  --sklearn-color-fitted-level-0: #f0f8ff;
  --sklearn-color-fitted-level-1: #d4ebff;
  --sklearn-color-fitted-level-2: #b3dbfd;
  --sklearn-color-fitted-level-3: cornflowerblue;
}

#sk-container-id-1.light {
  /* Specific color for light theme */
  --sklearn-color-text-on-default-background: black;
  --sklearn-color-background: white;
  --sklearn-color-border-box: black;
  --sklearn-color-icon: #696969;
}

#sk-container-id-1.dark {
  --sklearn-color-text-on-default-background: white;
  --sklearn-color-background: #111;
  --sklearn-color-border-box: white;
  --sklearn-color-icon: #878787;
}

#sk-container-id-1 {
  color: var(--sklearn-color-text);
}

#sk-container-id-1 pre {
  padding: 0;
}

#sk-container-id-1 input.sk-hidden--visually {
  border: 0;
  clip: rect(1px 1px 1px 1px);
  clip: rect(1px, 1px, 1px, 1px);
  height: 1px;
  margin: -1px;
  overflow: hidden;
  padding: 0;
  position: absolute;
  width: 1px;
}

#sk-container-id-1 div.sk-dashed-wrapped {
  border: 1px dashed var(--sklearn-color-line);
  margin: 0 0.4em 0.5em 0.4em;
  box-sizing: border-box;
  padding-bottom: 0.4em;
  background-color: var(--sklearn-color-background);
}

#sk-container-id-1 div.sk-container {
  /* jupyter's `normalize.less` sets `[hidden] { display: none; }`
     but bootstrap.min.css set `[hidden] { display: none !important; }`
     so we also need the `!important` here to be able to override the
     default hidden behavior on the sphinx rendered scikit-learn.org.
     See: https://github.com/scikit-learn/scikit-learn/issues/21755 */
  display: inline-block !important;
  position: relative;
}

#sk-container-id-1 div.sk-text-repr-fallback {
  display: none;
}

div.sk-parallel-item,
div.sk-serial,
div.sk-item {
  /* draw centered vertical line to link estimators */
  background-image: linear-gradient(var(--sklearn-color-text-on-default-background), var(--sklearn-color-text-on-default-background));
  background-size: 2px 100%;
  background-repeat: no-repeat;
  background-position: center center;
}

/* Parallel-specific style estimator block */

#sk-container-id-1 div.sk-parallel-item::after {
  content: "";
  width: 100%;
  border-bottom: 2px solid var(--sklearn-color-text-on-default-background);
  flex-grow: 1;
}

#sk-container-id-1 div.sk-parallel {
  display: flex;
  align-items: stretch;
  justify-content: center;
  background-color: var(--sklearn-color-background);
  position: relative;
}

#sk-container-id-1 div.sk-parallel-item {
  display: flex;
  flex-direction: column;
}

#sk-container-id-1 div.sk-parallel-item:first-child::after {
  align-self: flex-end;
  width: 50%;
}

#sk-container-id-1 div.sk-parallel-item:last-child::after {
  align-self: flex-start;
  width: 50%;
}

#sk-container-id-1 div.sk-parallel-item:only-child::after {
  width: 0;
}

/* Serial-specific style estimator block */

#sk-container-id-1 div.sk-serial {
  display: flex;
  flex-direction: column;
  align-items: center;
  background-color: var(--sklearn-color-background);
  padding-right: 1em;
  padding-left: 1em;
}


/* Toggleable style: style used for estimator/Pipeline/ColumnTransformer box that is
clickable and can be expanded/collapsed.
- Pipeline and ColumnTransformer use this feature and define the default style
- Estimators will overwrite some part of the style using the `sk-estimator` class
*/

/* Pipeline and ColumnTransformer style (default) */

#sk-container-id-1 div.sk-toggleable {
  /* Default theme specific background. It is overwritten whether we have a
  specific estimator or a Pipeline/ColumnTransformer */
  background-color: var(--sklearn-color-background);
}

/* Toggleable label */
#sk-container-id-1 label.sk-toggleable__label {
  cursor: pointer;
  display: flex;
  width: 100%;
  margin-bottom: 0;
  padding: 0.5em;
  box-sizing: border-box;
  text-align: center;
  align-items: center;
  justify-content: center;
  gap: 0.5em;
}

#sk-container-id-1 label.sk-toggleable__label .caption {
  font-size: 0.6rem;
  font-weight: lighter;
  color: var(--sklearn-color-text-muted);
}

#sk-container-id-1 label.sk-toggleable__label-arrow:before {
  /* Arrow on the left of the label */
  content: "▸";
  float: left;
  margin-right: 0.25em;
  color: var(--sklearn-color-icon);
}

#sk-container-id-1 label.sk-toggleable__label-arrow:hover:before {
  color: var(--sklearn-color-text);
}

/* Toggleable content - dropdown */

#sk-container-id-1 div.sk-toggleable__content {
  display: none;
  text-align: left;
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-0);
}

#sk-container-id-1 div.sk-toggleable__content.fitted {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-0);
}

#sk-container-id-1 div.sk-toggleable__content pre {
  margin: 0.2em;
  border-radius: 0.25em;
  color: var(--sklearn-color-text);
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-0);
}

#sk-container-id-1 div.sk-toggleable__content.fitted pre {
  /* unfitted */
  background-color: var(--sklearn-color-fitted-level-0);
}

#sk-container-id-1 input.sk-toggleable__control:checked~div.sk-toggleable__content {
  /* Expand drop-down */
  display: block;
  width: 100%;
  overflow: visible;
}

#sk-container-id-1 input.sk-toggleable__control:checked~label.sk-toggleable__label-arrow:before {
  content: "▾";
}

/* Pipeline/ColumnTransformer-specific style */

#sk-container-id-1 div.sk-label input.sk-toggleable__control:checked~label.sk-toggleable__label {
  color: var(--sklearn-color-text);
  background-color: var(--sklearn-color-unfitted-level-2);
}

#sk-container-id-1 div.sk-label.fitted input.sk-toggleable__control:checked~label.sk-toggleable__label {
  background-color: var(--sklearn-color-fitted-level-2);
}

/* Estimator-specific style */

/* Colorize estimator box */
#sk-container-id-1 div.sk-estimator input.sk-toggleable__control:checked~label.sk-toggleable__label {
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-2);
}

#sk-container-id-1 div.sk-estimator.fitted input.sk-toggleable__control:checked~label.sk-toggleable__label {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-2);
}

#sk-container-id-1 div.sk-label label.sk-toggleable__label,
#sk-container-id-1 div.sk-label label {
  /* The background is the default theme color */
  color: var(--sklearn-color-text-on-default-background);
}

/* On hover, darken the color of the background */
#sk-container-id-1 div.sk-label:hover label.sk-toggleable__label {
  color: var(--sklearn-color-text);
  background-color: var(--sklearn-color-unfitted-level-2);
}

/* Label box, darken color on hover, fitted */
#sk-container-id-1 div.sk-label.fitted:hover label.sk-toggleable__label.fitted {
  color: var(--sklearn-color-text);
  background-color: var(--sklearn-color-fitted-level-2);
}

/* Estimator label */

#sk-container-id-1 div.sk-label label {
  font-family: monospace;
  font-weight: bold;
  line-height: 1.2em;
}

#sk-container-id-1 div.sk-label-container {
  text-align: center;
}

/* Estimator-specific */
#sk-container-id-1 div.sk-estimator {
  font-family: monospace;
  border: 1px dotted var(--sklearn-color-border-box);
  border-radius: 0.25em;
  box-sizing: border-box;
  margin-bottom: 0.5em;
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-0);
}

#sk-container-id-1 div.sk-estimator.fitted {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-0);
}

/* on hover */
#sk-container-id-1 div.sk-estimator:hover {
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-2);
}

#sk-container-id-1 div.sk-estimator.fitted:hover {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-2);
}

/* Specification for estimator info (e.g. "i" and "?") */

/* Common style for "i" and "?" */

.sk-estimator-doc-link,
a:link.sk-estimator-doc-link,
a:visited.sk-estimator-doc-link {
  float: right;
  font-size: smaller;
  line-height: 1em;
  font-family: monospace;
  background-color: var(--sklearn-color-unfitted-level-0);
  border-radius: 1em;
  height: 1em;
  width: 1em;
  text-decoration: none !important;
  margin-left: 0.5em;
  text-align: center;
  /* unfitted */
  border: var(--sklearn-color-unfitted-level-3) 1pt solid;
  color: var(--sklearn-color-unfitted-level-3);
}

.sk-estimator-doc-link.fitted,
a:link.sk-estimator-doc-link.fitted,
a:visited.sk-estimator-doc-link.fitted {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-0);
  border: var(--sklearn-color-fitted-level-3) 1pt solid;
  color: var(--sklearn-color-fitted-level-3);
}

/* On hover */
div.sk-estimator:hover .sk-estimator-doc-link:hover,
.sk-estimator-doc-link:hover,
div.sk-label-container:hover .sk-estimator-doc-link:hover,
.sk-estimator-doc-link:hover {
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-3);
  border: var(--sklearn-color-fitted-level-0) 1pt solid;
  color: var(--sklearn-color-unfitted-level-0);
  text-decoration: none;
}

div.sk-estimator.fitted:hover .sk-estimator-doc-link.fitted:hover,
.sk-estimator-doc-link.fitted:hover,
div.sk-label-container:hover .sk-estimator-doc-link.fitted:hover,
.sk-estimator-doc-link.fitted:hover {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-3);
  border: var(--sklearn-color-fitted-level-0) 1pt solid;
  color: var(--sklearn-color-fitted-level-0);
  text-decoration: none;
}

/* Span, style for the box shown on hovering the info icon */
.sk-estimator-doc-link span {
  display: none;
  z-index: 9999;
  position: relative;
  font-weight: normal;
  right: .2ex;
  padding: .5ex;
  margin: .5ex;
  width: min-content;
  min-width: 20ex;
  max-width: 50ex;
  color: var(--sklearn-color-text);
  box-shadow: 2pt 2pt 4pt #999;
  /* unfitted */
  background: var(--sklearn-color-unfitted-level-0);
  border: .5pt solid var(--sklearn-color-unfitted-level-3);
}

.sk-estimator-doc-link.fitted span {
  /* fitted */
  background: var(--sklearn-color-fitted-level-0);
  border: var(--sklearn-color-fitted-level-3);
}

.sk-estimator-doc-link:hover span {
  display: block;
}

/* "?"-specific style due to the `<a>` HTML tag */

#sk-container-id-1 a.estimator_doc_link {
  float: right;
  font-size: 1rem;
  line-height: 1em;
  font-family: monospace;
  background-color: var(--sklearn-color-unfitted-level-0);
  border-radius: 1rem;
  height: 1rem;
  width: 1rem;
  text-decoration: none;
  /* unfitted */
  color: var(--sklearn-color-unfitted-level-1);
  border: var(--sklearn-color-unfitted-level-1) 1pt solid;
}

#sk-container-id-1 a.estimator_doc_link.fitted {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-0);
  border: var(--sklearn-color-fitted-level-1) 1pt solid;
  color: var(--sklearn-color-fitted-level-1);
}

/* On hover */
#sk-container-id-1 a.estimator_doc_link:hover {
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-3);
  color: var(--sklearn-color-background);
  text-decoration: none;
}

#sk-container-id-1 a.estimator_doc_link.fitted:hover {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-3);
}

.estimator-table {
    font-family: monospace;
}

.estimator-table summary {
    padding: .5rem;
    cursor: pointer;
}

.estimator-table summary::marker {
    font-size: 0.7rem;
}

.estimator-table details[open] {
    padding-left: 0.1rem;
    padding-right: 0.1rem;
    padding-bottom: 0.3rem;
}

.estimator-table .parameters-table {
    margin-left: auto !important;
    margin-right: auto !important;
    margin-top: 0;
}

.estimator-table .parameters-table tr:nth-child(odd) {
    background-color: #fff;
}

.estimator-table .parameters-table tr:nth-child(even) {
    background-color: #f6f6f6;
}

.estimator-table .parameters-table tr:hover {
    background-color: #e0e0e0;
}

.estimator-table table td {
    border: 1px solid rgba(106, 105, 104, 0.232);
}

/*
    `table td`is set in notebook with right text-align.
    We need to overwrite it.
*/
.estimator-table table td.param {
    text-align: left;
    position: relative;
    padding: 0;
}

.user-set td {
    color:rgb(255, 94, 0);
    text-align: left !important;
}

.user-set td.value {
    color:rgb(255, 94, 0);
    background-color: transparent;
}

.default td {
    color: black;
    text-align: left !important;
}

.user-set td i,
.default td i {
    color: black;
}

/*
    Styles for parameter documentation links
    We need styling for visited so jupyter doesn't overwrite it
*/
a.param-doc-link,
a.param-doc-link:link,
a.param-doc-link:visited {
    text-decoration: underline dashed;
    text-underline-offset: .3em;
    color: inherit;
    display: block;
    padding: .5em;
}

/* "hack" to make the entire area of the cell containing the link clickable */
a.param-doc-link::before {
    position: absolute;
    content: "";
    inset: 0;
}

.param-doc-description {
    display: none;
    position: absolute;
    z-index: 9999;
    left: 0;
    padding: .5ex;
    margin-left: 1.5em;
    color: var(--sklearn-color-text);
    box-shadow: .3em .3em .4em #999;
    width: max-content;
    text-align: left;
    max-height: 10em;
    overflow-y: auto;

    /* unfitted */
    background: var(--sklearn-color-unfitted-level-0);
    border: thin solid var(--sklearn-color-unfitted-level-3);
}

/* Fitted state for parameter tooltips */
.fitted .param-doc-description {
    /* fitted */
    background: var(--sklearn-color-fitted-level-0);
    border: thin solid var(--sklearn-color-fitted-level-3);
}

.param-doc-link:hover .param-doc-description {
    display: block;
}

.copy-paste-icon {
    background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NDggNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNy4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjUgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTIwOCAwTDMzMi4xIDBjMTIuNyAwIDI0LjkgNS4xIDMzLjkgMTQuMWw2Ny45IDY3LjljOSA5IDE0LjEgMjEuMiAxNC4xIDMzLjlMNDQ4IDMzNmMwIDI2LjUtMjEuNSA0OC00OCA0OGwtMTkyIDBjLTI2LjUgMC00OC0yMS41LTQ4LTQ4bDAtMjg4YzAtMjYuNSAyMS41LTQ4IDQ4LTQ4ek00OCAxMjhsODAgMCAwIDY0LTY0IDAgMCAyNTYgMTkyIDAgMC0zMiA2NCAwIDAgNDhjMCAyNi41LTIxLjUgNDgtNDggNDhMNDggNTEyYy0yNi41IDAtNDgtMjEuNS00OC00OEwwIDE3NmMwLTI2LjUgMjEuNS00OCA0OC00OHoiLz48L3N2Zz4=);
    background-repeat: no-repeat;
    background-size: 14px 14px;
    background-position: 0;
    display: inline-block;
    width: 14px;
    height: 14px;
    cursor: pointer;
}
</style><div id="sk-container-id-1" class="sk-top-container"><div class="sk-text-repr-fallback"><pre>StandardScaler()</pre><b>In a Jupyter environment, please rerun this cell to show the HTML representation or trust the notebook. <br>On GitHub, the HTML representation is unable to render, please try loading this page with nbviewer.org.</b></div><div class="sk-container" hidden=""><div class="sk-item"><div class="sk-estimator  sk-toggleable"><input class="sk-toggleable__control sk-hidden--visually" id="sk-estimator-id-1" type="checkbox" checked=""><label for="sk-estimator-id-1" class="sk-toggleable__label  sk-toggleable__label-arrow"><div><div>StandardScaler</div></div><div><a class="sk-estimator-doc-link " rel="noreferrer" target="_blank" href="https://scikit-learn.org/1.8/modules/generated/sklearn.preprocessing.StandardScaler.html">?<span>Documentation for StandardScaler</span></a><span class="sk-estimator-doc-link ">i<span>Not fitted</span></span></div></label><div class="sk-toggleable__content " data-param-prefix="">
        <div class="estimator-table">
            <details>
                <summary>Parameters</summary>
                
<table class="parameters-table caption-top">
<colgroup>
<col style="width: 33%">
<col style="width: 33%">
<col style="width: 33%">
</colgroup>
<tbody>
<tr class="default odd">
<td><em></em></td>
<td class="param"><a href="https://scikit-learn.org/1.8/modules/generated/sklearn.preprocessing.StandardScaler.html#:~:text=copy,-bool%2C%20default%3DTrue" class="param-doc-link" rel="noreferrer" target="_blank">copy <span class="param-doc-description">copy: bool, default=True<br>
<br>
If False, try to avoid a copy and do inplace scaling instead.<br>
This is not guaranteed to always work inplace; e.g. if the data is<br>
not a NumPy array or scipy.sparse CSR matrix, a copy may still be<br>
returned.</span></a></td>
<td class="value">True</td>
</tr>
<tr class="default even">
<td><em></em></td>
<td class="param"><a href="https://scikit-learn.org/1.8/modules/generated/sklearn.preprocessing.StandardScaler.html#:~:text=with_mean,-bool%2C%20default%3DTrue" class="param-doc-link" rel="noreferrer" target="_blank">with_mean <span class="param-doc-description">with_mean: bool, default=True<br>
<br>
If True, center the data before scaling.<br>
This does not work (and will raise an exception) when attempted on<br>
sparse matrices, because centering them entails building a dense<br>
matrix which in common use cases is likely to be too large to fit in<br>
memory.</span></a></td>
<td class="value">True</td>
</tr>
<tr class="default odd">
<td><em></em></td>
<td class="param"><a href="https://scikit-learn.org/1.8/modules/generated/sklearn.preprocessing.StandardScaler.html#:~:text=with_std,-bool%2C%20default%3DTrue" class="param-doc-link" rel="noreferrer" target="_blank">with_std <span class="param-doc-description">with_std: bool, default=True<br>
<br>
If True, scale the data to unit variance (or equivalently,<br>
unit standard deviation).</span></a></td>
<td class="value">True</td>
</tr>
</tbody>
</table>

            </details>
        </div>
    </div></div></div></div></div><script>function copyToClipboard(text, element) {
    // Get the parameter prefix from the closest toggleable content
    const toggleableContent = element.closest('.sk-toggleable__content');
    const paramPrefix = toggleableContent ? toggleableContent.dataset.paramPrefix : '';
    const fullParamName = paramPrefix ? `${paramPrefix}${text}` : text;

    const originalStyle = element.style;
    const computedStyle = window.getComputedStyle(element);
    const originalWidth = computedStyle.width;
    const originalHTML = element.innerHTML.replace('Copied!', '');

    navigator.clipboard.writeText(fullParamName)
        .then(() => {
            element.style.width = originalWidth;
            element.style.color = 'green';
            element.innerHTML = "Copied!";

            setTimeout(() => {
                element.innerHTML = originalHTML;
                element.style = originalStyle;
            }, 2000);
        })
        .catch(err => {
            console.error('Failed to copy:', err);
            element.style.color = 'red';
            element.innerHTML = "Failed!";
            setTimeout(() => {
                element.innerHTML = originalHTML;
                element.style = originalStyle;
            }, 2000);
        });
    return false;
}

document.querySelectorAll('.copy-paste-icon').forEach(function(element) {
    const toggleableContent = element.closest('.sk-toggleable__content');
    const paramPrefix = toggleableContent ? toggleableContent.dataset.paramPrefix : '';
    const paramName = element.parentElement.nextElementSibling
        .textContent.trim().split(' ')[0];
    const fullParamName = paramPrefix ? `${paramPrefix}${paramName}` : paramName;

    element.setAttribute('title', fullParamName);
});


/**
 * Adapted from Skrub
 * https://github.com/skrub-data/skrub/blob/403466d1d5d4dc76a7ef569b3f8228db59a31dc3/skrub/_reporting/_data/templates/report.js#L789
 * @returns "light" or "dark"
 */
function detectTheme(element) {
    const body = document.querySelector('body');

    // Check VSCode theme
    const themeKindAttr = body.getAttribute('data-vscode-theme-kind');
    const themeNameAttr = body.getAttribute('data-vscode-theme-name');

    if (themeKindAttr && themeNameAttr) {
        const themeKind = themeKindAttr.toLowerCase();
        const themeName = themeNameAttr.toLowerCase();

        if (themeKind.includes("dark") || themeName.includes("dark")) {
            return "dark";
        }
        if (themeKind.includes("light") || themeName.includes("light")) {
            return "light";
        }
    }

    // Check Jupyter theme
    if (body.getAttribute('data-jp-theme-light') === 'false') {
        return 'dark';
    } else if (body.getAttribute('data-jp-theme-light') === 'true') {
        return 'light';
    }

    // Guess based on a parent element's color
    const color = window.getComputedStyle(element.parentNode, null).getPropertyValue('color');
    const match = color.match(/^rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i);
    if (match) {
        const [r, g, b] = [
            parseFloat(match[1]),
            parseFloat(match[2]),
            parseFloat(match[3])
        ];

        // https://en.wikipedia.org/wiki/HSL_and_HSV#Lightness
        const luma = 0.299 * r + 0.587 * g + 0.114 * b;

        if (luma > 180) {
            // If the text is very bright we have a dark theme
            return 'dark';
        }
        if (luma < 75) {
            // If the text is very dark we have a light theme
            return 'light';
        }
        // Otherwise fall back to the next heuristic.
    }

    // Fallback to system preference
    return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
}


function forceTheme(elementId) {
    const estimatorElement = document.querySelector(`#${elementId}`);
    if (estimatorElement === null) {
        console.error(`Element with id ${elementId} not found.`);
    } else {
        const theme = detectTheme(estimatorElement);
        estimatorElement.classList.add(theme);
    }
}

forceTheme('sk-container-id-1');</script>
</div>
</div>
<p><strong>No calculations have happened yet!</strong></p>
</section>
<section id="fit" class="slide level2">
<h2>Fit</h2>
<p>The <code>scaler</code> object “learns” the means and standard deviations.</p>
<div class="small">
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a aria-hidden="true" tabindex="-1"></a>df_orig <span class="op">=</span> housing[[<span class="st">'Gr Liv Area'</span>, <span class="st">'Bedroom AbvGr'</span>]]</span>
<span id="cb26-2"><a aria-hidden="true" tabindex="-1"></a>scaler.fit(df_orig)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<style>#sk-container-id-2 {
  /* Definition of color scheme common for light and dark mode */
  --sklearn-color-text: #000;
  --sklearn-color-text-muted: #666;
  --sklearn-color-line: gray;
  /* Definition of color scheme for unfitted estimators */
  --sklearn-color-unfitted-level-0: #fff5e6;
  --sklearn-color-unfitted-level-1: #f6e4d2;
  --sklearn-color-unfitted-level-2: #ffe0b3;
  --sklearn-color-unfitted-level-3: chocolate;
  /* Definition of color scheme for fitted estimators */
  --sklearn-color-fitted-level-0: #f0f8ff;
  --sklearn-color-fitted-level-1: #d4ebff;
  --sklearn-color-fitted-level-2: #b3dbfd;
  --sklearn-color-fitted-level-3: cornflowerblue;
}

#sk-container-id-2.light {
  /* Specific color for light theme */
  --sklearn-color-text-on-default-background: black;
  --sklearn-color-background: white;
  --sklearn-color-border-box: black;
  --sklearn-color-icon: #696969;
}

#sk-container-id-2.dark {
  --sklearn-color-text-on-default-background: white;
  --sklearn-color-background: #111;
  --sklearn-color-border-box: white;
  --sklearn-color-icon: #878787;
}

#sk-container-id-2 {
  color: var(--sklearn-color-text);
}

#sk-container-id-2 pre {
  padding: 0;
}

#sk-container-id-2 input.sk-hidden--visually {
  border: 0;
  clip: rect(1px 1px 1px 1px);
  clip: rect(1px, 1px, 1px, 1px);
  height: 1px;
  margin: -1px;
  overflow: hidden;
  padding: 0;
  position: absolute;
  width: 1px;
}

#sk-container-id-2 div.sk-dashed-wrapped {
  border: 1px dashed var(--sklearn-color-line);
  margin: 0 0.4em 0.5em 0.4em;
  box-sizing: border-box;
  padding-bottom: 0.4em;
  background-color: var(--sklearn-color-background);
}

#sk-container-id-2 div.sk-container {
  /* jupyter's `normalize.less` sets `[hidden] { display: none; }`
     but bootstrap.min.css set `[hidden] { display: none !important; }`
     so we also need the `!important` here to be able to override the
     default hidden behavior on the sphinx rendered scikit-learn.org.
     See: https://github.com/scikit-learn/scikit-learn/issues/21755 */
  display: inline-block !important;
  position: relative;
}

#sk-container-id-2 div.sk-text-repr-fallback {
  display: none;
}

div.sk-parallel-item,
div.sk-serial,
div.sk-item {
  /* draw centered vertical line to link estimators */
  background-image: linear-gradient(var(--sklearn-color-text-on-default-background), var(--sklearn-color-text-on-default-background));
  background-size: 2px 100%;
  background-repeat: no-repeat;
  background-position: center center;
}

/* Parallel-specific style estimator block */

#sk-container-id-2 div.sk-parallel-item::after {
  content: "";
  width: 100%;
  border-bottom: 2px solid var(--sklearn-color-text-on-default-background);
  flex-grow: 1;
}

#sk-container-id-2 div.sk-parallel {
  display: flex;
  align-items: stretch;
  justify-content: center;
  background-color: var(--sklearn-color-background);
  position: relative;
}

#sk-container-id-2 div.sk-parallel-item {
  display: flex;
  flex-direction: column;
}

#sk-container-id-2 div.sk-parallel-item:first-child::after {
  align-self: flex-end;
  width: 50%;
}

#sk-container-id-2 div.sk-parallel-item:last-child::after {
  align-self: flex-start;
  width: 50%;
}

#sk-container-id-2 div.sk-parallel-item:only-child::after {
  width: 0;
}

/* Serial-specific style estimator block */

#sk-container-id-2 div.sk-serial {
  display: flex;
  flex-direction: column;
  align-items: center;
  background-color: var(--sklearn-color-background);
  padding-right: 1em;
  padding-left: 1em;
}


/* Toggleable style: style used for estimator/Pipeline/ColumnTransformer box that is
clickable and can be expanded/collapsed.
- Pipeline and ColumnTransformer use this feature and define the default style
- Estimators will overwrite some part of the style using the `sk-estimator` class
*/

/* Pipeline and ColumnTransformer style (default) */

#sk-container-id-2 div.sk-toggleable {
  /* Default theme specific background. It is overwritten whether we have a
  specific estimator or a Pipeline/ColumnTransformer */
  background-color: var(--sklearn-color-background);
}

/* Toggleable label */
#sk-container-id-2 label.sk-toggleable__label {
  cursor: pointer;
  display: flex;
  width: 100%;
  margin-bottom: 0;
  padding: 0.5em;
  box-sizing: border-box;
  text-align: center;
  align-items: center;
  justify-content: center;
  gap: 0.5em;
}

#sk-container-id-2 label.sk-toggleable__label .caption {
  font-size: 0.6rem;
  font-weight: lighter;
  color: var(--sklearn-color-text-muted);
}

#sk-container-id-2 label.sk-toggleable__label-arrow:before {
  /* Arrow on the left of the label */
  content: "▸";
  float: left;
  margin-right: 0.25em;
  color: var(--sklearn-color-icon);
}

#sk-container-id-2 label.sk-toggleable__label-arrow:hover:before {
  color: var(--sklearn-color-text);
}

/* Toggleable content - dropdown */

#sk-container-id-2 div.sk-toggleable__content {
  display: none;
  text-align: left;
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-0);
}

#sk-container-id-2 div.sk-toggleable__content.fitted {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-0);
}

#sk-container-id-2 div.sk-toggleable__content pre {
  margin: 0.2em;
  border-radius: 0.25em;
  color: var(--sklearn-color-text);
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-0);
}

#sk-container-id-2 div.sk-toggleable__content.fitted pre {
  /* unfitted */
  background-color: var(--sklearn-color-fitted-level-0);
}

#sk-container-id-2 input.sk-toggleable__control:checked~div.sk-toggleable__content {
  /* Expand drop-down */
  display: block;
  width: 100%;
  overflow: visible;
}

#sk-container-id-2 input.sk-toggleable__control:checked~label.sk-toggleable__label-arrow:before {
  content: "▾";
}

/* Pipeline/ColumnTransformer-specific style */

#sk-container-id-2 div.sk-label input.sk-toggleable__control:checked~label.sk-toggleable__label {
  color: var(--sklearn-color-text);
  background-color: var(--sklearn-color-unfitted-level-2);
}

#sk-container-id-2 div.sk-label.fitted input.sk-toggleable__control:checked~label.sk-toggleable__label {
  background-color: var(--sklearn-color-fitted-level-2);
}

/* Estimator-specific style */

/* Colorize estimator box */
#sk-container-id-2 div.sk-estimator input.sk-toggleable__control:checked~label.sk-toggleable__label {
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-2);
}

#sk-container-id-2 div.sk-estimator.fitted input.sk-toggleable__control:checked~label.sk-toggleable__label {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-2);
}

#sk-container-id-2 div.sk-label label.sk-toggleable__label,
#sk-container-id-2 div.sk-label label {
  /* The background is the default theme color */
  color: var(--sklearn-color-text-on-default-background);
}

/* On hover, darken the color of the background */
#sk-container-id-2 div.sk-label:hover label.sk-toggleable__label {
  color: var(--sklearn-color-text);
  background-color: var(--sklearn-color-unfitted-level-2);
}

/* Label box, darken color on hover, fitted */
#sk-container-id-2 div.sk-label.fitted:hover label.sk-toggleable__label.fitted {
  color: var(--sklearn-color-text);
  background-color: var(--sklearn-color-fitted-level-2);
}

/* Estimator label */

#sk-container-id-2 div.sk-label label {
  font-family: monospace;
  font-weight: bold;
  line-height: 1.2em;
}

#sk-container-id-2 div.sk-label-container {
  text-align: center;
}

/* Estimator-specific */
#sk-container-id-2 div.sk-estimator {
  font-family: monospace;
  border: 1px dotted var(--sklearn-color-border-box);
  border-radius: 0.25em;
  box-sizing: border-box;
  margin-bottom: 0.5em;
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-0);
}

#sk-container-id-2 div.sk-estimator.fitted {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-0);
}

/* on hover */
#sk-container-id-2 div.sk-estimator:hover {
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-2);
}

#sk-container-id-2 div.sk-estimator.fitted:hover {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-2);
}

/* Specification for estimator info (e.g. "i" and "?") */

/* Common style for "i" and "?" */

.sk-estimator-doc-link,
a:link.sk-estimator-doc-link,
a:visited.sk-estimator-doc-link {
  float: right;
  font-size: smaller;
  line-height: 1em;
  font-family: monospace;
  background-color: var(--sklearn-color-unfitted-level-0);
  border-radius: 1em;
  height: 1em;
  width: 1em;
  text-decoration: none !important;
  margin-left: 0.5em;
  text-align: center;
  /* unfitted */
  border: var(--sklearn-color-unfitted-level-3) 1pt solid;
  color: var(--sklearn-color-unfitted-level-3);
}

.sk-estimator-doc-link.fitted,
a:link.sk-estimator-doc-link.fitted,
a:visited.sk-estimator-doc-link.fitted {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-0);
  border: var(--sklearn-color-fitted-level-3) 1pt solid;
  color: var(--sklearn-color-fitted-level-3);
}

/* On hover */
div.sk-estimator:hover .sk-estimator-doc-link:hover,
.sk-estimator-doc-link:hover,
div.sk-label-container:hover .sk-estimator-doc-link:hover,
.sk-estimator-doc-link:hover {
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-3);
  border: var(--sklearn-color-fitted-level-0) 1pt solid;
  color: var(--sklearn-color-unfitted-level-0);
  text-decoration: none;
}

div.sk-estimator.fitted:hover .sk-estimator-doc-link.fitted:hover,
.sk-estimator-doc-link.fitted:hover,
div.sk-label-container:hover .sk-estimator-doc-link.fitted:hover,
.sk-estimator-doc-link.fitted:hover {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-3);
  border: var(--sklearn-color-fitted-level-0) 1pt solid;
  color: var(--sklearn-color-fitted-level-0);
  text-decoration: none;
}

/* Span, style for the box shown on hovering the info icon */
.sk-estimator-doc-link span {
  display: none;
  z-index: 9999;
  position: relative;
  font-weight: normal;
  right: .2ex;
  padding: .5ex;
  margin: .5ex;
  width: min-content;
  min-width: 20ex;
  max-width: 50ex;
  color: var(--sklearn-color-text);
  box-shadow: 2pt 2pt 4pt #999;
  /* unfitted */
  background: var(--sklearn-color-unfitted-level-0);
  border: .5pt solid var(--sklearn-color-unfitted-level-3);
}

.sk-estimator-doc-link.fitted span {
  /* fitted */
  background: var(--sklearn-color-fitted-level-0);
  border: var(--sklearn-color-fitted-level-3);
}

.sk-estimator-doc-link:hover span {
  display: block;
}

/* "?"-specific style due to the `<a>` HTML tag */

#sk-container-id-2 a.estimator_doc_link {
  float: right;
  font-size: 1rem;
  line-height: 1em;
  font-family: monospace;
  background-color: var(--sklearn-color-unfitted-level-0);
  border-radius: 1rem;
  height: 1rem;
  width: 1rem;
  text-decoration: none;
  /* unfitted */
  color: var(--sklearn-color-unfitted-level-1);
  border: var(--sklearn-color-unfitted-level-1) 1pt solid;
}

#sk-container-id-2 a.estimator_doc_link.fitted {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-0);
  border: var(--sklearn-color-fitted-level-1) 1pt solid;
  color: var(--sklearn-color-fitted-level-1);
}

/* On hover */
#sk-container-id-2 a.estimator_doc_link:hover {
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-3);
  color: var(--sklearn-color-background);
  text-decoration: none;
}

#sk-container-id-2 a.estimator_doc_link.fitted:hover {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-3);
}

.estimator-table {
    font-family: monospace;
}

.estimator-table summary {
    padding: .5rem;
    cursor: pointer;
}

.estimator-table summary::marker {
    font-size: 0.7rem;
}

.estimator-table details[open] {
    padding-left: 0.1rem;
    padding-right: 0.1rem;
    padding-bottom: 0.3rem;
}

.estimator-table .parameters-table {
    margin-left: auto !important;
    margin-right: auto !important;
    margin-top: 0;
}

.estimator-table .parameters-table tr:nth-child(odd) {
    background-color: #fff;
}

.estimator-table .parameters-table tr:nth-child(even) {
    background-color: #f6f6f6;
}

.estimator-table .parameters-table tr:hover {
    background-color: #e0e0e0;
}

.estimator-table table td {
    border: 1px solid rgba(106, 105, 104, 0.232);
}

/*
    `table td`is set in notebook with right text-align.
    We need to overwrite it.
*/
.estimator-table table td.param {
    text-align: left;
    position: relative;
    padding: 0;
}

.user-set td {
    color:rgb(255, 94, 0);
    text-align: left !important;
}

.user-set td.value {
    color:rgb(255, 94, 0);
    background-color: transparent;
}

.default td {
    color: black;
    text-align: left !important;
}

.user-set td i,
.default td i {
    color: black;
}

/*
    Styles for parameter documentation links
    We need styling for visited so jupyter doesn't overwrite it
*/
a.param-doc-link,
a.param-doc-link:link,
a.param-doc-link:visited {
    text-decoration: underline dashed;
    text-underline-offset: .3em;
    color: inherit;
    display: block;
    padding: .5em;
}

/* "hack" to make the entire area of the cell containing the link clickable */
a.param-doc-link::before {
    position: absolute;
    content: "";
    inset: 0;
}

.param-doc-description {
    display: none;
    position: absolute;
    z-index: 9999;
    left: 0;
    padding: .5ex;
    margin-left: 1.5em;
    color: var(--sklearn-color-text);
    box-shadow: .3em .3em .4em #999;
    width: max-content;
    text-align: left;
    max-height: 10em;
    overflow-y: auto;

    /* unfitted */
    background: var(--sklearn-color-unfitted-level-0);
    border: thin solid var(--sklearn-color-unfitted-level-3);
}

/* Fitted state for parameter tooltips */
.fitted .param-doc-description {
    /* fitted */
    background: var(--sklearn-color-fitted-level-0);
    border: thin solid var(--sklearn-color-fitted-level-3);
}

.param-doc-link:hover .param-doc-description {
    display: block;
}

.copy-paste-icon {
    background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NDggNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNy4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjUgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTIwOCAwTDMzMi4xIDBjMTIuNyAwIDI0LjkgNS4xIDMzLjkgMTQuMWw2Ny45IDY3LjljOSA5IDE0LjEgMjEuMiAxNC4xIDMzLjlMNDQ4IDMzNmMwIDI2LjUtMjEuNSA0OC00OCA0OGwtMTkyIDBjLTI2LjUgMC00OC0yMS41LTQ4LTQ4bDAtMjg4YzAtMjYuNSAyMS41LTQ4IDQ4LTQ4ek00OCAxMjhsODAgMCAwIDY0LTY0IDAgMCAyNTYgMTkyIDAgMC0zMiA2NCAwIDAgNDhjMCAyNi41LTIxLjUgNDgtNDggNDhMNDggNTEyYy0yNi41IDAtNDgtMjEuNS00OC00OEwwIDE3NmMwLTI2LjUgMjEuNS00OCA0OC00OHoiLz48L3N2Zz4=);
    background-repeat: no-repeat;
    background-size: 14px 14px;
    background-position: 0;
    display: inline-block;
    width: 14px;
    height: 14px;
    cursor: pointer;
}
</style><div id="sk-container-id-2" class="sk-top-container"><div class="sk-text-repr-fallback"><pre>StandardScaler()</pre><b>In a Jupyter environment, please rerun this cell to show the HTML representation or trust the notebook. <br>On GitHub, the HTML representation is unable to render, please try loading this page with nbviewer.org.</b></div><div class="sk-container" hidden=""><div class="sk-item"><div class="sk-estimator fitted sk-toggleable"><input class="sk-toggleable__control sk-hidden--visually" id="sk-estimator-id-2" type="checkbox" checked=""><label for="sk-estimator-id-2" class="sk-toggleable__label fitted sk-toggleable__label-arrow"><div><div>StandardScaler</div></div><div><a class="sk-estimator-doc-link fitted" rel="noreferrer" target="_blank" href="https://scikit-learn.org/1.8/modules/generated/sklearn.preprocessing.StandardScaler.html">?<span>Documentation for StandardScaler</span></a><span class="sk-estimator-doc-link fitted">i<span>Fitted</span></span></div></label><div class="sk-toggleable__content fitted" data-param-prefix="">
        <div class="estimator-table">
            <details>
                <summary>Parameters</summary>
                
<table class="parameters-table caption-top">
<colgroup>
<col style="width: 33%">
<col style="width: 33%">
<col style="width: 33%">
</colgroup>
<tbody>
<tr class="default odd">
<td><em></em></td>
<td class="param"><a href="https://scikit-learn.org/1.8/modules/generated/sklearn.preprocessing.StandardScaler.html#:~:text=copy,-bool%2C%20default%3DTrue" class="param-doc-link" rel="noreferrer" target="_blank">copy <span class="param-doc-description">copy: bool, default=True<br>
<br>
If False, try to avoid a copy and do inplace scaling instead.<br>
This is not guaranteed to always work inplace; e.g. if the data is<br>
not a NumPy array or scipy.sparse CSR matrix, a copy may still be<br>
returned.</span></a></td>
<td class="value">True</td>
</tr>
<tr class="default even">
<td><em></em></td>
<td class="param"><a href="https://scikit-learn.org/1.8/modules/generated/sklearn.preprocessing.StandardScaler.html#:~:text=with_mean,-bool%2C%20default%3DTrue" class="param-doc-link" rel="noreferrer" target="_blank">with_mean <span class="param-doc-description">with_mean: bool, default=True<br>
<br>
If True, center the data before scaling.<br>
This does not work (and will raise an exception) when attempted on<br>
sparse matrices, because centering them entails building a dense<br>
matrix which in common use cases is likely to be too large to fit in<br>
memory.</span></a></td>
<td class="value">True</td>
</tr>
<tr class="default odd">
<td><em></em></td>
<td class="param"><a href="https://scikit-learn.org/1.8/modules/generated/sklearn.preprocessing.StandardScaler.html#:~:text=with_std,-bool%2C%20default%3DTrue" class="param-doc-link" rel="noreferrer" target="_blank">with_std <span class="param-doc-description">with_std: bool, default=True<br>
<br>
If True, scale the data to unit variance (or equivalently,<br>
unit standard deviation).</span></a></td>
<td class="value">True</td>
</tr>
</tbody>
</table>

            </details>
        </div>
    </div></div></div></div></div><script>function copyToClipboard(text, element) {
    // Get the parameter prefix from the closest toggleable content
    const toggleableContent = element.closest('.sk-toggleable__content');
    const paramPrefix = toggleableContent ? toggleableContent.dataset.paramPrefix : '';
    const fullParamName = paramPrefix ? `${paramPrefix}${text}` : text;

    const originalStyle = element.style;
    const computedStyle = window.getComputedStyle(element);
    const originalWidth = computedStyle.width;
    const originalHTML = element.innerHTML.replace('Copied!', '');

    navigator.clipboard.writeText(fullParamName)
        .then(() => {
            element.style.width = originalWidth;
            element.style.color = 'green';
            element.innerHTML = "Copied!";

            setTimeout(() => {
                element.innerHTML = originalHTML;
                element.style = originalStyle;
            }, 2000);
        })
        .catch(err => {
            console.error('Failed to copy:', err);
            element.style.color = 'red';
            element.innerHTML = "Failed!";
            setTimeout(() => {
                element.innerHTML = originalHTML;
                element.style = originalStyle;
            }, 2000);
        });
    return false;
}

document.querySelectorAll('.copy-paste-icon').forEach(function(element) {
    const toggleableContent = element.closest('.sk-toggleable__content');
    const paramPrefix = toggleableContent ? toggleableContent.dataset.paramPrefix : '';
    const paramName = element.parentElement.nextElementSibling
        .textContent.trim().split(' ')[0];
    const fullParamName = paramPrefix ? `${paramPrefix}${paramName}` : paramName;

    element.setAttribute('title', fullParamName);
});


/**
 * Adapted from Skrub
 * https://github.com/skrub-data/skrub/blob/403466d1d5d4dc76a7ef569b3f8228db59a31dc3/skrub/_reporting/_data/templates/report.js#L789
 * @returns "light" or "dark"
 */
function detectTheme(element) {
    const body = document.querySelector('body');

    // Check VSCode theme
    const themeKindAttr = body.getAttribute('data-vscode-theme-kind');
    const themeNameAttr = body.getAttribute('data-vscode-theme-name');

    if (themeKindAttr && themeNameAttr) {
        const themeKind = themeKindAttr.toLowerCase();
        const themeName = themeNameAttr.toLowerCase();

        if (themeKind.includes("dark") || themeName.includes("dark")) {
            return "dark";
        }
        if (themeKind.includes("light") || themeName.includes("light")) {
            return "light";
        }
    }

    // Check Jupyter theme
    if (body.getAttribute('data-jp-theme-light') === 'false') {
        return 'dark';
    } else if (body.getAttribute('data-jp-theme-light') === 'true') {
        return 'light';
    }

    // Guess based on a parent element's color
    const color = window.getComputedStyle(element.parentNode, null).getPropertyValue('color');
    const match = color.match(/^rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i);
    if (match) {
        const [r, g, b] = [
            parseFloat(match[1]),
            parseFloat(match[2]),
            parseFloat(match[3])
        ];

        // https://en.wikipedia.org/wiki/HSL_and_HSV#Lightness
        const luma = 0.299 * r + 0.587 * g + 0.114 * b;

        if (luma > 180) {
            // If the text is very bright we have a dark theme
            return 'dark';
        }
        if (luma < 75) {
            // If the text is very dark we have a light theme
            return 'light';
        }
        // Otherwise fall back to the next heuristic.
    }

    // Fallback to system preference
    return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
}


function forceTheme(elementId) {
    const estimatorElement = document.querySelector(`#${elementId}`);
    if (estimatorElement === null) {
        console.error(`Element with id ${elementId} not found.`);
    } else {
        const theme = detectTheme(estimatorElement);
        estimatorElement.classList.add(theme);
    }
}

forceTheme('sk-container-id-2');</script>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a aria-hidden="true" tabindex="-1"></a>scaler.mean_</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>array([1499.69044369,    2.85426621])</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a aria-hidden="true" tabindex="-1"></a>scaler.scale_</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>array([505.4226158 ,   0.82758988])</code></pre>
</div>
</div>
</div>
<div class="fragment">
<p>We still have not altered the data at all!</p>
</div>
</section>
<section id="transform" class="slide level2">
<h2>Transform</h2>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb31"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a aria-hidden="true" tabindex="-1"></a>df_scaled <span class="op">=</span> scaler.transform(df_orig)</span>
<span id="cb31-2"><a aria-hidden="true" tabindex="-1"></a>df_scaled</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>array([[ 0.30926506,  0.17609421],
       [-1.19442705, -1.03223376],
       [-0.33771825,  0.17609421],
       ...,
       [-1.04801492,  0.17609421],
       [-0.21900572, -1.03223376],
       [ 0.9898836 ,  0.17609421]], shape=(2930, 2))</code></pre>
</div>
</div>
</section>
<section id="sklearn-numpy-and-pandas" class="slide level2">
<h2>sklearn, numpy, and pandas</h2>
<div class="midi">
<ul>
<li><p>By default, <code>sklearn</code> functions return <code>numpy</code> objects.</p></li>
<li><p>This is sometimes annoying, maybe we want to plot things after scaling.</p></li>
<li><p>Solution: remake it, with the original column names.</p></li>
</ul>
</div>
<div class="fragment">
<div class="small">
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb33"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb33-1"><a aria-hidden="true" tabindex="-1"></a>pd.DataFrame(df_scaled, columns <span class="op">=</span> df_orig.columns)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>      Gr Liv Area  Bedroom AbvGr
0        0.309265       0.176094
1       -1.194427      -1.032234
2       -0.337718       0.176094
3        1.207523       0.176094
4        0.255844       0.176094
...           ...            ...
2925    -0.982723       0.176094
2926    -1.182556      -1.032234
2927    -1.048015       0.176094
2928    -0.219006      -1.032234
2929     0.989884       0.176094

[2930 rows x 2 columns]</code></pre>
</div>
</div>
</div>
</div>
</section>
<section id="distances-with-sklearn" class="slide level2">
<h2>Distances with sklearn</h2>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb35"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb35-1"><a aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.metrics <span class="im">import</span> pairwise_distances</span>
<span id="cb35-2"><a aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-3"><a aria-hidden="true" tabindex="-1"></a>pairwise_distances(df_scaled[[<span class="dv">1707</span>]], df_scaled)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>array([[3.52929876, 5.45459713, 4.0252646 , ..., 4.61305666, 4.76999349,
        3.06886734]], shape=(1, 2930))</code></pre>
</div>
</div>
</section>
<section id="finding-the-most-similar" class="slide level2">
<h2>Finding the Most Similar</h2>
<div class="columns">
<div class="column" style="width:48%;">
<div class="small">
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb37"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb37-1"><a aria-hidden="true" tabindex="-1"></a>dists <span class="op">=</span> pairwise_distances(df_scaled[[<span class="dv">1707</span>]], </span>
<span id="cb37-2"><a aria-hidden="true" tabindex="-1"></a>                           df_scaled)</span>
<span id="cb37-3"><a aria-hidden="true" tabindex="-1"></a>dists.argsort()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>array([[1707,  160,  909, ...,  158, 2723, 2279]], shape=(1, 2930))</code></pre>
</div>
</div>
</div>
</div><div class="column" style="width:2%;">

</div><div class="column" style="width:50%;">
<div class="small">
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb39"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb39-1"><a aria-hidden="true" tabindex="-1"></a>best <span class="op">=</span> (</span>
<span id="cb39-2"><a aria-hidden="true" tabindex="-1"></a>  dists</span>
<span id="cb39-3"><a aria-hidden="true" tabindex="-1"></a>  .argsort()</span>
<span id="cb39-4"><a aria-hidden="true" tabindex="-1"></a>  .flatten()</span>
<span id="cb39-5"><a aria-hidden="true" tabindex="-1"></a>  [<span class="dv">1</span>:<span class="dv">10</span>]</span>
<span id="cb39-6"><a aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb39-7"><a aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb39-8"><a aria-hidden="true" tabindex="-1"></a>df_orig.iloc[best]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>      Gr Liv Area  Bedroom AbvGr
160          2978              5
909          3082              5
1288         2792              5
2350         2784              5
253          3222              5
2592         2640              5
585          2640              5
2027         2526              5
2330         3390              5</code></pre>
</div>
</div>
</div>
</div></div>
</section>
<section id="lecture-activity-part-3" class="slide level2">
<h2><span class="large">Lecture Activity Part 3</span></h2>
<blockquote>
<p>Complete Part Three of the activity linked in Canvas.</p>
</blockquote>
<div class="cell">
<div class="cell-output-display">
<countdown-timer class="countdown" id="timer_ce2c85c6" minutes="10" seconds="0" update-every="1" tabindex="0" style="bottom:0;left:0;"></countdown-timer>
</div>
</div>
</section></section>
<section>
<section id="alternatives" class="title-slide slide level1 center">
<h1>Alternatives</h1>

</section>
<section id="other-scaling" class="slide level2">
<h2>Other scaling</h2>
<ul>
<li><p>Standardization <span class="math display">\[x_i \leftarrow \frac{x_i - \bar{X}}{\text{sd}(X)}\]</span></p></li>
<li><p>Min-Max Scaling <span class="math display">\[x_i \leftarrow \frac{x_i - \text{min}(X)}{\text{max}(X) - \text{min}(X)}\]</span></p></li>
</ul>
</section>
<section id="other-distances" class="slide level2">
<h2>Other distances</h2>
<ul>
<li><p>Euclidean (<span class="math inline">\(\ell_2\)</span>)</p>
<p><span class="math display">\[\sqrt{\sum_{j=1}^m (x_j - x'_j)^2}\]</span></p></li>
<li><p>Manhattan (<span class="math inline">\(\ell_1\)</span>)</p>
<p><span class="math display">\[\sum_{j=1}^m |x_j - x'_j|\]</span></p></li>
</ul>
</section>
<section id="lecture-activity-part-4" class="slide level2">
<h2><span class="large">Lecture Activity Part 4</span></h2>
<blockquote>
<p>Complete Part Four of the activity linked in Canvas.</p>
</blockquote>
<div class="cell">
<div class="cell-output-display">
<countdown-timer class="countdown" id="timer_cac2e9f0" minutes="10" seconds="0" update-every="1" tabindex="0" style="bottom:0;left:0;"></countdown-timer>
</div>
</div>
</section></section>
<section>
<section id="takeaways" class="title-slide slide level1 center">
<h1>Takeaways</h1>

</section>
<section id="takeaways-1" class="slide level2">
<h2>Takeaways</h2>
<ul>
<li><p>We measure similarity between <strong>observations</strong> by calculating <strong>distances</strong>.</p></li>
<li><p>It is important that all our <strong>features</strong> be on the same <strong>scale</strong> for distances to be meaningful.</p></li>
<li><p>We can use <code>scikit-learn</code> functions to <strong>fit</strong> and <strong>transform</strong> data, and to compute pairwise distances.</p></li>
<li><p>There are many options of ways to <em>scale</em> data; most common is <strong>standardizing</strong></p></li>
<li><p>There are many options of ways to <em>measure distances</em>; most common is <strong>Euclidean distance</strong>.</p></li>
</ul>


</section></section>
    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<div class="footer footer-default">

</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="../site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="../site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="../site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="../site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="../site_libs/revealjs/plugin/search/search.js"></script>
  <script src="../site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="../site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: false,

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdn.jsdelivr.net/npm/mathjax@2.7.9/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
      window.document.addEventListener("DOMContentLoaded", function (event) {
        const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
        tabsets.forEach(function(tabset) {
          const tabby = new Tabby('#' + tabset.id);
        });
        const isCodeAnnotation = (el) => {
          for (const clz of el.classList) {
            if (clz.startsWith('code-annotation-')) {                     
              return true;
            }
          }
          return false;
        }
        const onCopySuccess = function(e) {
          // button target
          const button = e.trigger;
          // don't keep focus
          button.blur();
          // flash "checked"
          button.classList.add('code-copy-button-checked');
          var currentTitle = button.getAttribute("title");
          button.setAttribute("title", "Copied!");
          let tooltip;
          if (window.bootstrap) {
            button.setAttribute("data-bs-toggle", "tooltip");
            button.setAttribute("data-bs-placement", "left");
            button.setAttribute("data-bs-title", "Copied!");
            tooltip = new bootstrap.Tooltip(button, 
              { trigger: "manual", 
                customClass: "code-copy-button-tooltip",
                offset: [0, -8]});
            tooltip.show();    
          }
          setTimeout(function() {
            if (tooltip) {
              tooltip.hide();
              button.removeAttribute("data-bs-title");
              button.removeAttribute("data-bs-toggle");
              button.removeAttribute("data-bs-placement");
            }
            button.setAttribute("title", currentTitle);
            button.classList.remove('code-copy-button-checked');
          }, 1000);
          // clear code selection
          e.clearSelection();
        }
        const getTextToCopy = function(trigger) {
          const outerScaffold = trigger.parentElement.cloneNode(true);
          const codeEl = outerScaffold.querySelector('code');
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
        const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
          text: getTextToCopy
        });
        clipboard.on('success', onCopySuccess);
        if (window.document.getElementById('quarto-embedded-source-code-modal')) {
          const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
            text: getTextToCopy,
            container: window.document.getElementById('quarto-embedded-source-code-modal')
          });
          clipboardModal.on('success', onCopySuccess);
        }
          var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
          var mailtoRegex = new RegExp(/^mailto:/);
            var filterRegex = new RegExp("https:\/\/github\.com\/atheobold\/data-301");
          var isInternal = (href) => {
              return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
          }
          // Inspect non-navigation links and adorn them if external
         var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
          for (var i=0; i<links.length; i++) {
            const link = links[i];
            if (!isInternal(link.href)) {
              // undo the damage that might have been done by quarto-nav.js in the case of
              // links that we want to consider external
              if (link.dataset.originalHref !== undefined) {
                link.href = link.dataset.originalHref;
              }
            }
          }
        function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
          const config = {
            allowHTML: true,
            maxWidth: 500,
            delay: 100,
            arrow: false,
            appendTo: function(el) {
                return el.closest('section.slide') || el.parentElement;
            },
            interactive: true,
            interactiveBorder: 10,
            theme: 'light-border',
            placement: 'bottom-start',
          };
          if (contentFn) {
            config.content = contentFn;
          }
          if (onTriggerFn) {
            config.onTrigger = onTriggerFn;
          }
          if (onUntriggerFn) {
            config.onUntrigger = onUntriggerFn;
          }
            config['offset'] = [0,0];
            config['maxWidth'] = 700;
          window.tippy(el, config); 
        }
        const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
        for (var i=0; i<noterefs.length; i++) {
          const ref = noterefs[i];
          tippyHover(ref, function() {
            // use id or data attribute instead here
            let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
            try { href = new URL(href).hash; } catch {}
            const id = href.replace(/^#\/?/, "");
            const note = window.document.getElementById(id);
            if (note) {
              return note.innerHTML;
            } else {
              return "";
            }
          });
        }
        const findCites = (el) => {
          const parentEl = el.parentElement;
          if (parentEl) {
            const cites = parentEl.dataset.cites;
            if (cites) {
              return {
                el,
                cites: cites.split(' ')
              };
            } else {
              return findCites(el.parentElement)
            }
          } else {
            return undefined;
          }
        };
        var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
        for (var i=0; i<bibliorefs.length; i++) {
          const ref = bibliorefs[i];
          const citeInfo = findCites(ref);
          if (citeInfo) {
            tippyHover(citeInfo.el, function() {
              var popup = window.document.createElement('div');
              citeInfo.cites.forEach(function(cite) {
                var citeDiv = window.document.createElement('div');
                citeDiv.classList.add('hanging-indent');
                citeDiv.classList.add('csl-entry');
                var biblioDiv = window.document.getElementById('ref-' + cite);
                if (biblioDiv) {
                  citeDiv.innerHTML = biblioDiv.innerHTML;
                }
                popup.appendChild(citeDiv);
              });
              return popup.innerHTML;
            });
          }
        }
      });
      </script>
    

</body></html>